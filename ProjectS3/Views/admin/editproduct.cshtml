@model ProjectS3.Models.SanPham

@{
    ViewBag.Title = "addproduct";
}


<script src="~/scripts/my_js/admin_addproduct.js"></script>
<script src="~/scripts/ckeditor/ckeditor.js"></script>
<div class="row">
    <div class="col-sm-10 col-sm-offset-1">
        <div class="box">
            <div class="box-footer">
                <span style="margin-right: 20px;">Quay lại </span>
                <a class="btn btn-primary" href="../../admin">Admin</a>
            </div>
        </div>
        @using (Html.BeginForm(null, null, FormMethod.Post, new { id = "id_form_edit_product" }))
        {
            @Html.AntiForgeryToken()

            <div class="box box-primary" ng-controller="admin_addproduct_controller">
                <div class="box-header">
                    <h4>Sửa sản phẩm</h4>
                </div>
                <div class="box-body">
                    <div class="form-horizontal">
                        @Html.ValidationSummary(true)
                        <input type="hidden" name="ID" value="@Model.ID" />
                        <div class="form-group">
                            <label class="control-label col-md-2">Tên sản phẩm</label>
                            <div class="col-md-10">
                                @Html.TextBoxFor(model => model.Ten, new { @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.Ten)
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-md-2">Đơn giá</label>
                            <div class="col-md-10">
                                @Html.TextBoxFor(model => model.DioGia, new { @type = "number", @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.DioGia)
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-md-2">Link ảnh</label>
                            <div class="col-md-10">
                                @Html.TextBoxFor(model => model.linkanh, new { @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.linkanh)
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-md-2">Màu sắc</label>
                            <div class="col-md-10">
                                @Html.TextBoxFor(model => model.Color, new { @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.Color)
                            </div>
                            <p class="control-label col-md-5 col-md-offset-2">Nếu có nhiều hơn một màu, thì mỗi màu cách nhau bằng dấu phẩy ","</p>

                        </div>

                        <div class="form-group">
                            <label class="control-label col-md-2">Kích thước</label>
                            <div class="col-md-10">
                                <div class="my_div_size_checkbox">
                                    <input type="checkbox" id="id_size_value_s" class="my_size_checkbox" @(Model.Size.Contains(" S") ? "checked" : "") /> S
                                </div>
                                <div class="my_div_size_checkbox">
                                    <input type="checkbox" id="id_size_value_m" class="my_size_checkbox" @(Model.Size.Contains(" M") ? "checked" : "") /> M
                                </div>
                                <div class="my_div_size_checkbox">
                                    <input type="checkbox" id="id_size_value_l" class="my_size_checkbox" @(Model.Size.Contains(" L") ? "checked" : "") /> L
                                </div>
                                <div class="my_div_size_checkbox">
                                    <input type="checkbox" id="id_size_value_xl" class="my_size_checkbox" @(Model.Size.Contains(" XL") ? "checked" : "") /> XL
                                </div>
                                <small>Nếu có nhiều size, mỗi size</small>
                            </div>
                        </div>

                        <input type="hidden" name="Size" id="my_hidden_input_size" />

                        <div class="form-group">
                            <label class="control-label col-md-2">Nhóm sản phẩm</label>
                            <div class="col-md-10">
                                <select name="Branches" required class="form-control">
                                    <option value="" disabled></option>
                                    <option value="JOINUS" @(Model.Branches == "JOINUS" ? "selected" : "")>JOINUS</option>
                                    <option value="COMPAGNA" @(Model.Branches == "COMPAGNA" ? "selected" : "")>COMPAGNA</option>
                                    <option value="YETTS" @(Model.Branches == "YETTS" ? "selected" : "")>YETTS</option>
                                    <option value="y'sb" @(Model.Branches == "y'sb" ? "selected" : "")>y'sb</option>
                                    <option value="TRUGEN" @(Model.Branches == "TRUGEN" ? "selected" : "")>TRUGEN</option>
                                    <option value="S+" @(Model.Branches == "S+" ? "selected" : "")>S+</option>
                                    <option value="TATE" @(Model.Branches == "TATE" ? "selected" : "")>TATE</option>
                                    <option value="BIND" @(Model.Branches == "BIND" ? "selected" : "")>BIND</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-md-2">Mô tả sản phẩm</label>
                            <div class="col-md-10">
                                @Html.TextAreaFor(model => model.MoTa, new { @class = "ckeditor" })
                                @Html.ValidationMessageFor(model => model.MoTa)
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-md-2">Tình trạng</label>
                            <div class="col-md-10">
                                @Html.TextBoxFor(model => model.TinhTrang, new { @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.TinhTrang)
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-md-2">Số lượng sản xuất</label>
                            <div class="col-md-10">
                                @Html.TextBoxFor(model => model.SoLuong, new { @type = "number", @Value = 1, @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.SoLuong)
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box-footer">
                    <input type="submit" value="Sửa thông tin" class="btn btn-success" />
                    <a class="btn btn-default" href="../../admin">Hủy</a>
                </div>
            </div>
        }
    </div>
</div>
<script>
    $(function () {
        $('#id_form_edit_product').submit(function () {

            // chỉnh sửa giá trị cho Size
            var my_size = "";
            if ($("#id_size_value_s").is(':checked')) {
                my_size += " S";
            }
            if ($("#id_size_value_m").is(':checked')) {
                my_size += " M";
            }
            if ($("#id_size_value_l").is(':checked')) {
                my_size += " L";
            }
            if ($("#id_size_value_xl").is(':checked')) {
                my_size += " XL";
            }
            $("#my_hidden_input_size").val(my_size);

            return true; // return false to cancel form action
        });
    });
</script>
