@{
    ViewBag.Title = "Giỏ hàng";
}
<script src="~/scripts/my_js/cart_index_controller.js"></script>

<section>
    <div class="row">
        <div class="col-sm-8 col-sm-offset-2">
            <div class="box box-info" ng-controller="cart_index_controller" ng-init="init()">
                <div class="box-header">
                    <h3>
                        Giỏ hàng của bạn
                    </h3>
                </div>

                <div class="box-body">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <td>Tên</td>
                                <td>Hình ảnh</td>
                                <td>Đơn giá</td>
                                <td>Số lượng</td>
                                <td>Thành tiền</td>
                                <td>Xóa</td>
                            </tr>
                        </thead>

                        <tbody>
                            <tr ng-repeat="product in products track by product.count_number" style="cursor:pointer;" ng-click="chooseproduct(product.id)">
                                <td>
                                    {{product.name}}<br />
                                    <p>Kích thước: {{product.size}}</p>
                                    <p>Màu: {{product.color}}</p>
                                </td>
                                <td><img ng-src="{{product.imgs[0].link}}" style="  width: 50px;" /></td>
                                <td>{{product.price | number}} VNĐ</td>
                                <td>
                                    <input type="number" class="form-control" ng-model="product.number" ng-blur='saveData()' />
                                </td>

                                <td style="color:red;">{{product.number * product.price | number}} VNĐ</td>
                                <td><button class="btn btn-warning" ng-click="deleteproduct(product.count_number)">Xóa</button></td>
                            </tr>
                        </tbody>

                        <tfoot>
                            <tr>
                                <td colspan="3"></td>
                                <td>Tổng tiền</td>
                                <td style="color:red;">{{totalamount | number}} VNĐ</td>
                                <td></td>
                            </tr>                            
                        </tfoot>
                    </table>
                </div>

                <div class="box-footer clearfix">                    
                    <button style="float:right;" class="btn btn-success" ng-click="muahang()">Mua hàng</button>
                    <button style="float:right; margin-right:5px;" class="btn btn-danger" ng-click="back()">Tiếp tục mua sắp</button>
                    <button style="float:left;" class="btn btn-default" ng-cefick="back()">Trở lại</button>
                </div>
            </div>
        </div>
    </div>
</section>
<br />
